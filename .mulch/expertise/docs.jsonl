{"type":"convention","content":"README.md follows a structured template: why/motivation, install quickstart, full CLI reference table, priority scale, on-disk format, JSON output examples, concurrency model, integration guide, dev commands","classification":"tactical","recorded_at":"2026-02-23T15:26:34.007Z","outcomes":[{"status":"success","agent":"docs-builder"}],"id":"mx-6023b8"}
{"type":"convention","content":"CHANGELOG.md uses Keep a Changelog format with [Unreleased] section at top; link refs at bottom point to GitHub compare/release URLs; initial 0.1.0 entry lists all shipped features","classification":"tactical","recorded_at":"2026-02-23T15:26:44.109Z","outcomes":[{"status":"success","agent":"docs-builder"}],"id":"mx-b3a697"}
{"type":"convention","content":"version-bump.ts pattern: read current version from package.json, compute next semver, write package.json first then src/index.ts with rollback if second write fails; prevents version drift between the two sources of truth","classification":"tactical","recorded_at":"2026-02-23T15:26:51.622Z","outcomes":[{"status":"success","agent":"docs-builder"}],"id":"mx-a285e8"}
{"type":"convention","content":"tsconfig.json requires allowImportingTsExtensions: true for Bun projects that use .ts import extensions","classification":"tactical","recorded_at":"2026-02-23T15:40:36.613Z","outcomes":[{"status":"success","agent":"foundation-builder"}],"id":"mx-efca7d"}
{"type":"pattern","name":"seeds-advisory-lock","description":"seeds store.ts: advisory lock via O_CREAT|O_EXCL; stale after 30s (mtimeMs check); atomic writes via temp-file + renameSync; releaseLock in finally","classification":"tactical","recorded_at":"2026-02-23T15:40:39.719Z","outcomes":[{"status":"success","agent":"foundation-builder"}],"id":"mx-81658f"}
{"type":"convention","content":"seeds CLI Bun/TS project config: tsconfig needs allowImportingTsExtensions:true for .ts imports; biome.json needs files.ignore for .beads/.claude/.overstory to avoid linting non-source files; disable noNonNullAssertion when using noUncheckedIndexedAccess.","classification":"tactical","recorded_at":"2026-02-23T15:48:14.810Z","outcomes":[{"status":"success","agent":"commands-builder"}],"id":"mx-b30acd"}
{"type":"convention","content":"Test files follow real-I/O pattern: colocated with source (src/*.test.ts, src/commands/*.test.ts), use mkdtemp for isolation. Command integration tests spawn CLI via Bun.spawn(['bun','run','src/index.ts',...]) with cwd=temp dir, use --json flag for structured assertions. Unit tests (id, yaml, store) import directly from source modules.","classification":"tactical","recorded_at":"2026-02-23T15:41:41.213Z","evidence":{"bead":"seeds-bku"},"outcomes":[{"status":"success","agent":"tests-infra-builder"}],"id":"mx-d82ab9"}
{"type":"convention","content":"seeds id.ts: generateId accepts string[] | Set<string> — callers may pass either; init.ts: second init is idempotent (success, no error); tpl.ts: status JSON nests under {status} key (not spread); tpl pour requires --prefix flag.","classification":"tactical","recorded_at":"2026-02-23T15:55:50.718Z","outcomes":[{"status":"success","agent":"fixup-builder"}],"id":"mx-18dc95"}
{"type":"convention","content":"seeds commander migration: each command file exports register(program: Command) alongside run(args, seedsDir?). register() creates a Commander subcommand, extracts opts, reconstructs args array, and calls run(). Business logic stays in run(); only parsing layer changes. index.ts uses parseAsync() (not parse()) so async action errors propagate to the .catch() error handler. dep.ts and tpl.ts use addCommand() with nested Command instances for subcommands.","classification":"tactical","recorded_at":"2026-02-24T14:49:58.444Z","outcomes":[{"status":"success","agent":"commander-builder"}],"id":"mx-f32dd9"}
{"type":"convention","content":"seeds index.ts error handling: use process.exitCode = 1 (not process.exit(1)) in the main catch block so the event loop drains for bun test; apply chalk.red to console.error in human mode; JSON mode outputs { success: false, command, error }","classification":"tactical","recorded_at":"2026-02-24T15:09:59.850Z","outcomes":[{"status":"success","agent":"exitcode-builder"}],"id":"mx-6500c9"}
{"type":"convention","content":"seeds visual branding: output.ts exports brand=chalk.rgb(124,179,66), accent=chalk.rgb(255,183,77), muted=chalk.rgb(120,120,110). Status icon set D: open=brand('-'), in_progress=cyan('>'), closed=muted('x'), blocked=yellow('\\!'). printSuccess uses brand for checkmark+message; printError uses red '✗' prefix (not 'Error:'); printWarning uses yellow '\\!'. Issue IDs rendered in accent amber everywhere. doctor.ts uses brand/yellow/red for pass/warn/fail icons. stats/tpl/dep use muted for secondary labels and accent for IDs.","classification":"tactical","recorded_at":"2026-02-24T15:47:35.028Z","evidence":{"commit":"5798081"},"outcomes":[{"status":"success","agent":"branding-builder"}],"id":"mx-ecaf81"}
{"type":"convention","content":"seeds CLI standards: index.ts uses -v (not -V) for version; --version --json returns {name, version, runtime, platform} via pre-parse argv check; --quiet/-q and --verbose are global Commander options; setQuiet() in output.ts gates non-error printSuccess/printIssue* output; sync --dry-run previews changes without committing; upgrade command reads package.json for current version, fetches npm registry latest, installs via bun install -g","classification":"tactical","recorded_at":"2026-02-24T15:54:20.647Z","evidence":{"commit":"bbb9c53"},"outcomes":[{"status":"success","agent":"cli-standards-builder"}],"id":"mx-09c3b2"}
